import './polyfills.server.mjs';
import{Ta as z,a as q,b as B,c as J,f as F,g as G,j as I,m as V}from"./chunk-FOYE6M4L.mjs";import{h as k}from"./chunk-VVCT4QZE.mjs";function A(e){switch(e.responseType){case"json":return"response"in e?e.response:JSON.parse(e.responseText);case"document":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var S=class{constructor(r,n,s,c="download_load"){this.originalEvent=r,this.xhr=n,this.request=s,this.type=c;let{status:l,responseType:m}=n;this.status=l??0,this.responseType=m??"";let h=n.getAllResponseHeaders();this.responseHeaders=h?h.split(`
`).reduce((v,j)=>{let E=j.indexOf(": ");return v[j.slice(0,E)]=j.slice(E+2),v},{}):{},this.response=A(n);let{loaded:u,total:p}=r;this.loaded=u,this.total=p}};var R=q(e=>function(n,s,c){this.message=n,this.name="AjaxError",this.xhr=s,this.request=c,this.status=s.status,this.responseType=s.responseType;let l;try{l=A(s)}catch{l=s.responseText}this.response=l}),W=(()=>{function e(r,n){return R.call(this,"ajax timeout",r,n),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(R.prototype),e})();function Z(e,r){return d({method:"GET",url:e,headers:r})}function ee(e,r,n){return d({method:"POST",url:e,body:r,headers:n})}function re(e,r){return d({method:"DELETE",url:e,headers:r})}function te(e,r,n){return d({method:"PUT",url:e,body:r,headers:n})}function oe(e,r,n){return d({method:"PATCH",url:e,body:r,headers:n})}var ne=F(e=>e.response);function se(e,r){return ne(d({method:"GET",url:e,headers:r}))}var d=(()=>{let e=r=>ie(typeof r=="string"?{url:r}:r);return e.get=Z,e.post=ee,e.delete=re,e.put=te,e.patch=oe,e.getJSON=se,e})(),ae="upload",K="download",P="loadstart",H="progress",Q="load";function ie(e){return new B(r=>{var n,s;let c=Object.assign({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},e),{queryParams:l,body:m,headers:h}=c,u=c.url;if(!u)throw new TypeError("url is required");if(l){let t;if(u.includes("?")){let w=u.split("?");if(2<w.length)throw new TypeError("invalid url");t=new URLSearchParams(w[1]),new URLSearchParams(l).forEach((L,T)=>t.set(T,L)),u=w[0]+"?"+t}else t=new URLSearchParams(l),u=u+"?"+t}let p={};if(h)for(let t in h)h.hasOwnProperty(t)&&(p[t.toLowerCase()]=h[t]);let v=c.crossDomain;!v&&!("x-requested-with"in p)&&(p["x-requested-with"]="XMLHttpRequest");let{withCredentials:j,xsrfCookieName:E,xsrfHeaderName:U}=c;if((j||!v)&&E&&U){let t=(s=(n=document?.cookie.match(new RegExp(`(^|;\\s*)(${E})=([^;]*)`)))===null||n===void 0?void 0:n.pop())!==null&&s!==void 0?s:"";t&&(p[U]=t)}let b=ce(m,p),g=Object.assign(Object.assign({},c),{url:u,headers:p,body:b}),o;o=e.createXHR?e.createXHR():new XMLHttpRequest;{let{progressSubscriber:t,includeDownloadProgress:w=!1,includeUploadProgress:L=!1}=e,T=(a,i)=>{o.addEventListener(a,()=>{var f;let y=i();(f=t?.error)===null||f===void 0||f.call(t,y),r.error(y)})};T("timeout",()=>new W(o,g)),T("abort",()=>new R("aborted",o,g));let N=(a,i)=>new S(i,o,g,`${a}_${i.type}`),X=(a,i,f)=>{a.addEventListener(i,y=>{r.next(N(f,y))})};L&&[P,H,Q].forEach(a=>X(o.upload,a,ae)),t&&[P,H].forEach(a=>o.upload.addEventListener(a,i=>{var f;return(f=t?.next)===null||f===void 0?void 0:f.call(t,i)})),w&&[P,H].forEach(a=>X(o,a,K));let _=a=>{let i="ajax error"+(a?" "+a:"");r.error(new R(i,o,g))};o.addEventListener("error",a=>{var i;(i=t?.error)===null||i===void 0||i.call(t,a),_()}),o.addEventListener(Q,a=>{var i,f;let{status:y}=o;if(y<400){(i=t?.complete)===null||i===void 0||i.call(t);let $;try{$=N(K,a)}catch(Y){r.error(Y);return}r.next($),r.complete()}else(f=t?.error)===null||f===void 0||f.call(t,a),_(y)})}let{user:D,method:M,async:O}=g;D?o.open(M,u,O,D,g.password):o.open(M,u,O),O&&(o.timeout=g.timeout,o.responseType=g.responseType),"withCredentials"in o&&(o.withCredentials=g.withCredentials);for(let t in p)p.hasOwnProperty(t)&&o.setRequestHeader(t,p[t]);return b?o.send(b):o.send(),()=>{o&&o.readyState!==4&&o.abort()}})}function ce(e,r){var n;if(!e||typeof e=="string"||me(e)||he(e)||le(e)||pe(e)||fe(e)||ge(e))return e;if(de(e))return e.buffer;if(typeof e=="object")return r["content-type"]=(n=r["content-type"])!==null&&n!==void 0?n:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}var ue=Object.prototype.toString;function C(e,r){return ue.call(e)===`[object ${r}]`}function le(e){return C(e,"ArrayBuffer")}function pe(e){return C(e,"File")}function fe(e){return C(e,"Blob")}function de(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)}function me(e){return typeof FormData<"u"&&e instanceof FormData}function he(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function ge(e){return typeof ReadableStream<"u"&&e instanceof ReadableStream}var x={baseUrl:"https://eland-dk.humaneland.net/Examen/AngularApi/",marcas:"Marcas",categorias:"Categorias"};var Ne=(()=>{let r=class r{constructor(s){this._httpClient=s,this.languague=new J}getCategorias(){return this._httpClient.get(`${x.baseUrl}${x.categorias}`)}getMarcas(s){return this._httpClient.get(`${x.baseUrl}${x.marcas}?idMenu=${s}`)}getMarcasRandom(s){return k(this,null,function*(){let c=[];s.forEach(u=>{c.push(`${x.baseUrl}${x.marcas}?idMenu=${u}`)});let l={url1:d.getJSON(c[0]),url2:d.getJSON(c[1]),url3:d.getJSON(c[2]),url4:d.getJSON(c[3])},m={},h=[];return G(l).subscribe({next:u=>{m=u;for(let p in m){let v=m[p];h.push(v.menuItems[0])}}}),h})}changeLanguague(s){this.languague.next(s)}};r.\u0275fac=function(c){return new(c||r)(V(z))},r.\u0275prov=I({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();export{Ne as a};
